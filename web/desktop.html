<!DOCTYPE html>
<html>
    <head>
        <title>レジ</title>
        <link rel="stylesheet" href="./style.css" />
    </head>
    <body>
        <header>
            <h1>レジ</h1>
        </header>
        <form name="form">
            <legend>マスタ登録:</legend>
            <input id="master" type="text" name="マスタ登録" />
            <button type="button" id="registration" name="registration">
                登録
            </button>
            <hr />
            <legend>商品コード:</legend>
            <input id="code" type="text" name="コード" />
            <legend>個数:</legend>
            <input id="num" type="text" name="個数" />
            <button type="button" id="submit" name="submit">送信</button>
        </form>
        <hr />
        <p>商品内容</p>
        <textarea id="result" type="textarea" name="content"></textarea>
        <hr />
        <div>
            <legend>お預かり金:</legend>
            <input id="depo" type="text" name="お預かり金" />
            <legend>人数:</legend>
            <input id="count" type="text" name="人数" />
            <button type="button" id="calculation" name="calculation">
                送信
            </button>
        </div>
        <hr />
        <h2>会計</h2>
        <div>
            <h3>合計金額</h3>
            <input id="sum" type="text" name="合計金額" />
            <h3>一人当たりの金額</h3>
            <input id="one_cost" type="text" name="一人当たりの金額" />
            <h3>お釣り</h3>
            <input id="change" type="text" name="お釣り" />
        </div>
        <script type="text/javascript" src="/eel.js"></script>
        <script>
            registration.addEventListener("click", () => {
                eel.master_finish(form.master.value);
            });
            submit.addEventListener("click", () => {
                eel.order_finish(form.code.value, form.num.value);
            });
            calculation.addEventListener("click", () => {
                eel.calculation_finish(depo.value, count.value);
            });

            eel.expose(view_log_js);
            function view_log_js(content) {
                result.value += content + "\n";
            }
            eel.expose(sum_cost);
            function sum_cost(sum_price) {
                sum.value = sum_price;
            }
            eel.expose(one_count);
            function one_count(one_price) {
                one_cost.value = one_price;
            }
            eel.expose(finish_change);
            function finish_change(change_price) {
                change.value = change_price;
            }
        </script>
    </body>
</html>
